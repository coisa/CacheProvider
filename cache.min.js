var CacheProvider=function(a,b){a.support||(a.support={});try{a.support.localStorage="localStorage"in win&&a.localStorage!==null}catch(c){a.support.localStorage=!1}var d=function(a,b,c){var e=b||"",f=e.split("."),g=a||{},h=f.shift();if(c){if(!h)g=c;else{if(typeof g[h]!="object"||!h in g)g[h]={};f.length?g[h]=d(g[h],f.join("."),c):g[h]=c}return g}return h?h in g&&(f.length?c=d(g[h],f.join(".")):c=g[h]):c=g,c},e=[],f=a.CacheProvider=function(b){this.name=b||"CacheProvider",this.cache=a.support.localStorage&&JSON.parse(localStorage.getItem(this.name))||{}};return f.constructor=a.CacheProvider,f.prototype={get:function(a){return d(this.cache,a)},read:function(a){return this.get(a)},set:function(a,b){return d(this.cache,a,b),this.sync()},write:function(a,b){return this.set(a,b)},remove:function(a){if(a){var b=a.split("."),c=b.pop(),e=d(this.cache,b.join("."));e&&c in e&&e[c]&&delete e[c]}else this.cache={};return this.sync()},"delete":function(a){return this.remove(a)},clear:function(){return this.remove()},check:function(a){var c=a.split("."),e=c.pop(),f=d(this.cache,c.join("."));return f&&e in f&&f[e]!==b},sync:function(){a.support.localStorage&&localStorage.setItem(this.name,JSON.stringify(this.cache));for(var b=0;b<e.length;b++)e[b].call(this,this.cache);return this},bind:function(a){return typeof a!="function"&&(a=function(){return a}),e.push(a),this}},f}(window)